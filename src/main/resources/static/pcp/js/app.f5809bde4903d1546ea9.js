webpackJsonp([36],{144:function(e,n,t){"use strict";n.a={name:"app",computed:{isInvalid:function(){return!this.$route.matched||0===this.$route.matched.length}},methods:{backToDashBoard:function(){this.$router.push({path:"/dashboard"})}}}},157:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(158),o=t.n(r),a=t(10),u=t(181),i=t(131),c=t.n(i),l=t(355),h=(t.n(l),t(356)),s=t(360),m=t(382),p=t(383),d=t.n(p),f=t(151),v=t.n(f);a.default.use(u.a),a.default.use(c.a),a.default.use(m.a,{fieldsBagName:"formFields"}),a.default.component("v-select",d.a),token=window.localStorage.getItem("access_token");var b=void 0;v.a.defaults.baseURL=basePath,v.a.interceptors.request.use(function(e){return b=i.Loading.service({fullscreen:!0}),null!==token&&void 0!==token&&(e.headers.Authorization="Bearer "+token),e},function(e){return b.close(),o.a.reject(e)}),v.a.interceptors.response.use(function(e){return b.close(),e},function(e){if(b.close(),e.response)switch(e.response.status){case 401:window.localStorage.removeItem("access_token"),s.a.replace({path:"/",query:{redirect:s.a.currentRoute.fullPath}});break;case 404:s.a.replace({path:"/404",query:{redirect:s.a.currentRoute.fullPath}});break;case 500:s.a.replace({path:"/500",query:{redirect:s.a.currentRoute.fullPath}})}return o.a.reject(e.response.data)}),m.a.Validator.extend("verify_password",{getMessage:function(e){return"密码必须包含： 至少一个大写字母，一个小写字母，和一个数字"},validate:function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})").test(e)}}),m.a.Validator.extend("verify_credit",{getMessage:function(e){return"获得学分数必须小于课程学分!"},validate:function(e,n){return parseFloat(e)<=parseFloat(n[0])}}),new a.default({el:"#app",router:s.a,template:"<App/>",components:{App:h.a}})},185:function(e,n){},215:function(e,n){},232:function(e,n){},277:function(e,n){},355:function(e,n){},356:function(e,n,t){"use strict";function r(e){t(357),t(358)}var o=t(144),a=t(359),u=t(150),i=r,c=u(o.a,a.a,!1,i,null,null);n.a=c.exports},357:function(e,n){},358:function(e,n){},359:function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.isInvalid?t("div",{staticClass:"app flex-row align-items-center"},[t("div",{staticClass:"container"},[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{md:"6"}},[t("div",{staticClass:"clearfix"},[t("h1",{staticClass:"float-left display-3 mr-4"},[e._v("404")]),e._v(" "),t("h4",{staticClass:"pt-3"},[e._v("Oops! You're lost. 对不起，您所访问的页面不存在！")]),e._v(" "),t("p",{staticClass:"text-muted"},[e._v("The page you are looking for was not found.")])]),e._v(" "),t("b-input-group",[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[t("i",{staticClass:"fa fa-arrow-left"})])]),e._v(" "),t("div",{staticClass:"input-group-append"},[t("b-button",{attrs:{variant:"info"},on:{click:e.backToDashBoard}},[e._v("返回主页")])],1)])],1)],1)],1)]):t("router-view")},o=[],a={render:r,staticRenderFns:o};n.a=a},360:function(e,n,t){"use strict";var r=t(10),o=t(361),a=t(152),u=t.n(a),i=function(){return t.e(2).then(t.bind(null,387))},c=function(){return t.e(19).then(t.bind(null,388))},l=function(){return t.e(20).then(t.bind(null,389))},h=function(){return t.e(26).then(t.bind(null,390))},s=function(){return t.e(34).then(t.bind(null,391))},m=function(){return t.e(7).then(t.bind(null,392))},p=function(){return t.e(8).then(t.bind(null,393))},d=function(){return t.e(5).then(t.bind(null,394))},f=function(){return t.e(4).then(t.bind(null,395))},v=function(){return t.e(6).then(t.bind(null,396))},b=function(){return t.e(11).then(t.bind(null,397))},q=function(){return t.e(27).then(t.bind(null,398))},A=function(){return t.e(15).then(t.bind(null,399))},g=function(){return t.e(22).then(t.bind(null,400))},w=function(){return t.e(12).then(t.bind(null,401))},k=function(){return t.e(3).then(t.bind(null,402))},_=function(){return t.e(9).then(t.bind(null,403))},y=function(){return t.e(10).then(t.bind(null,404))},C=function(){return t.e(17).then(t.bind(null,405))},P=function(){return t.e(29).then(t.bind(null,406))},x=function(){return t.e(0).then(t.bind(null,407))},R=function(){return t.e(28).then(t.bind(null,408))},E=function(){return t.e(21).then(t.bind(null,409))},I=function(){return t.e(30).then(t.bind(null,410))},B=function(){return t.e(13).then(t.bind(null,411))},j=function(){return t.e(16).then(t.bind(null,412))},F=function(){return t.e(1).then(t.bind(null,413))},N=function(){return t.e(23).then(t.bind(null,414))},O=function(){return t.e(14).then(t.bind(null,415))},S=function(){return t.e(32).then(t.bind(null,416))},T=function(){return t.e(33).then(t.bind(null,417))},$=function(){return t.e(31).then(t.bind(null,418))},L=function(){return t.e(18).then(t.bind(null,419))},M=function(){return t.e(25).then(t.bind(null,420))},z=function(){return t.e(24).then(t.bind(null,421))};r.default.use(o.a);var D=new o.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/login",name:"PCP",component:i,meta:{requiresAuth:!0,role:[]},children:[{path:"dashboard",name:"主页",component:c,meta:{requireAuth:!0,role:["0"]}},{path:"message",name:"消息中心",component:l,meta:{requireAuth:!0,role:["0"]}},{path:"phonebook",name:"通讯录",component:s,meta:{requireAuth:!0,role:["0"]}},{path:"profile",name:"个人资料",component:h,meta:{requireAuth:!0,role:["0"]}},{path:"course",redirect:"/course/view",name:"教学系统",component:{render:function(e){return e("router-view")}},meta:{requireAuth:!0,role:["2","5","6"]},children:[{path:"view",name:"所有课程",component:m,meta:{requireAuth:!0,role:["2","5","6"]}},{path:"new",redirect:"/course/new/create",name:"新课程",component:{render:function(e){return e("router-view")}},children:[{path:"create",name:"新课程申请",component:A,meta:{requireAuth:!0,role:["2","6"]}},{path:"request",name:"你的申请",component:q,meta:{requireAuth:!0,role:["2","6"]}}]},{path:"transcript",name:"个人成绩单",component:f,meta:{requireAuth:!0,role:["5"]}},{path:"feedback",name:"评价填写",component:v,meta:{requireAuth:!0,role:["6"]}},{path:"choose",name:"新学期选课",component:p,meta:{requireAuth:!0,role:["5"]}},{path:"advisor/choose",name:"新学期导师选择",component:b,meta:{requireAuth:!0,role:["5"]}},{path:"grade",name:"成绩录入",component:d,meta:{requireAuth:!0,role:["6"]}}]},{path:"teach",redirect:"/teach/curriculum",name:"教务管理",component:{render:function(e){return e("router-view")}},meta:{requireAuth:!0},children:[{path:"curriculum",name:"课程管理",component:m,meta:{requireAuth:!0,role:["2"]}},{path:"request",name:"课程申请管理",component:q,meta:{requireAuth:!0,role:["2"]}},{path:"detail",name:"课程详情",component:A,meta:{requireAuth:!0,role:["2","5","6"]}},{path:"transcript",name:"成绩单管理",component:k,meta:{requireAuth:!0,role:["2"]}},{path:"credit",name:"学分管理",component:g,meta:{requireAuth:!0,role:["2"]}},{path:"pin",name:"识别码管理",component:w,meta:{requireAuth:!0,role:["2"]}},{path:"choose",name:"教务快速选课",component:C,meta:{requireAuth:!0,role:["2"]}},{path:"advise",redirect:"/teach/advise/manage",name:"辅导关系",component:{render:function(e){return e("router-view")}},children:[{path:"manage",name:"辅导关系管理",component:_,meta:{requireAuth:!0,role:["2"]}},{path:"advisor",name:"导师管理",component:y,meta:{requireAuth:!0,role:["2"]}}]}]},{path:"advise",redirect:"/advise/view",name:"导师系统",component:{render:function(e){return e("router-view")}},children:[{path:"view",name:"辅导关系查看",component:B,meta:{requireAuth:!0,role:["7"]}},{path:"office",name:"ONENOTE"}]},{path:"logistic",redirect:"/logistic/contract",name:"后勤行政管理",component:{render:function(e){return e("router-view")}},children:[{path:"contract",name:"合同管理",component:j,meta:{requireAuth:!0,role:["3"]}},{path:"feedback",name:"评价管理",component:F,meta:{requireAuth:!0,role:["3"]}},{path:"pin",name:"评价识别码管理",component:O,meta:{requireAuth:!0,role:["3"]}},{path:"info",name:"用户信息管理",component:N,meta:{requireAuth:!0,role:["3"]}}]},{path:"system",redirect:"/system/user",name:"系统管理",component:{render:function(e){return e("router-view")}},children:[{path:"user",name:"用户管理",component:R,meta:{requireAuth:!0,role:["4"]}},{path:"user/detail",name:"新用户申请管理",component:E,meta:{requireAuth:!0,role:["0","4"]}},{path:"role",name:"角色与权限",component:P,meta:{requireAuth:!0,role:["4"]}},{path:"registration",name:"用户注册",component:I,meta:{requireAuth:!0,role:["4"]}},{path:"monitor",name:"系统监控",component:x,meta:{requireAuth:!0,role:["4"]}}]}]},{path:"/",redirect:"/404",name:"功能",component:{render:function(e){return e("router-view")}},children:[{path:"404",name:"Page404",component:S},{path:"403",name:"Page403",component:T},{path:"500",name:"Page500",component:$},{path:"login",name:"Login",component:L},{path:"register",name:"Register",component:M},{path:"reset",name:"Reset",component:z}]}]});D.beforeEach(function(e,n,t){if(e.meta.requireAuth)if(isNotEmpty(window.localStorage.getItem("access_token"))){for(var r=u()(window.localStorage.getItem("access_token")),o=0;o<e.meta.role.length;o++)for(var a=0;a<r.rol.length;a++)if("1"==r.rol[a]||e.meta.role[o]==r.rol[a])return void t();t({path:"/403",query:{redirect:e.fullPath}})}else t({path:"/",query:{redirect:e.fullPath}});else t()}),n.a=D}},[157]);
//# sourceMappingURL=app.f5809bde4903d1546ea9.js.map