webpackJsonp([30],{107:function(e,n,t){"use strict";var r=t(240);n.a=r.a},108:function(e,n,t){"use strict";var r=t(247);n.a=r.a},111:function(e,n,t){"use strict";var r=t(264);n.a=r.a},116:function(e,n,t){"use strict";var r=t(286);n.a=r.a},118:function(e,n,t){"use strict";var r=t(291);n.a=r.a},132:function(e,n,t){"use strict";n.a={name:"app",computed:{isInvalid:function(){return!this.$route.matched||0===this.$route.matched.length}},methods:{backToDashBoard:function(){this.$router.push({path:"/dashboard"})}}}},144:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(145),a=t.n(r),u=t(9),o=t(168),i=t(119),c=t.n(i),l=t(370),s=(t.n(l),t(371)),h=t(375),p=t(397),m=t(398),d=t.n(m),f=t(138),v=t.n(f);u.default.use(o.a),u.default.use(c.a),u.default.use(p.a,{fieldsBagName:"formFields"}),u.default.component("v-select",d.a),token=window.localStorage.getItem("access_token");var b=void 0;v.a.defaults.baseURL=basePath,v.a.interceptors.request.use(function(e){return b=i.Loading.service({fullscreen:!0}),null!==token&&void 0!==token&&(e.headers.Authorization="Bearer "+token),e},function(e){return b.close(),a.a.reject(e)}),v.a.interceptors.response.use(function(e){return b.close(),e},function(e){if(b.close(),e.response)switch(e.response.status){case 401:window.localStorage.removeItem("access_token"),h.a.replace({path:"/",query:{redirect:h.a.currentRoute.fullPath}});break;case 404:h.a.replace({path:"/404",query:{redirect:h.a.currentRoute.fullPath}});break;case 500:h.a.replace({path:"/500",query:{redirect:h.a.currentRoute.fullPath}})}return a.a.reject(e.response.data)}),p.a.Validator.extend("verify_password",{getMessage:function(e){return"密码必须包含： 至少一个大写字母，一个小写字母，和一个数字"},validate:function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})").test(e)}}),p.a.Validator.extend("verify_credit",{getMessage:function(e){return"获得学分数必须小于课程学分!"},validate:function(e,n){return parseFloat(e)<=parseFloat(n[0])}}),new u.default({el:"#app",router:h.a,template:"<App/>",components:{App:s.a}})},237:function(e,n,t){"use strict";function r(e){t(238)}var a=t(107),u=t(21),o=r,i=u(a.a,null,!1,o,null,null);n.a=i.exports},238:function(e,n){},245:function(e,n,t){"use strict";function r(e){t(246)}var a=t(108),u=t(21),o=r,i=u(a.a,null,!1,o,null,null);n.a=i.exports},246:function(e,n){},262:function(e,n,t){"use strict";function r(e){t(263)}var a=t(111),u=t(21),o=r,i=u(a.a,null,!1,o,null,null);n.a=i.exports},263:function(e,n){},284:function(e,n,t){"use strict";function r(e){t(285)}var a=t(116),u=t(21),o=r,i=u(a.a,null,!1,o,null,null);n.a=i.exports},285:function(e,n){},289:function(e,n,t){"use strict";function r(e){t(290)}var a=t(118),u=t(21),o=r,i=u(a.a,null,!1,o,null,null);n.a=i.exports},290:function(e,n){},370:function(e,n){},371:function(e,n,t){"use strict";function r(e){t(372),t(373)}var a=t(132),u=t(374),o=t(21),i=r,c=o(a.a,u.a,!1,i,null,null);n.a=c.exports},372:function(e,n){},373:function(e,n){},374:function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.isInvalid?t("div",{staticClass:"app flex-row align-items-center"},[t("div",{staticClass:"container"},[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{md:"6"}},[t("div",{staticClass:"clearfix"},[t("h1",{staticClass:"float-left display-3 mr-4"},[e._v("404")]),e._v(" "),t("h4",{staticClass:"pt-3"},[e._v("Oops! You're lost. 对不起，您所访问的页面不存在！")]),e._v(" "),t("p",{staticClass:"text-muted"},[e._v("The page you are looking for was not found.")])]),e._v(" "),t("b-input-group",[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[t("i",{staticClass:"fa fa-arrow-left"})])]),e._v(" "),t("div",{staticClass:"input-group-append"},[t("b-button",{attrs:{variant:"info"},on:{click:e.backToDashBoard}},[e._v("返回主页")])],1)])],1)],1)],1)]):t("router-view")},a=[],u={render:r,staticRenderFns:a};n.a=u},375:function(e,n,t){"use strict";var r=t(9),a=t(376),u=t(139),o=t.n(u),i=function(){return t.e(1).then(t.bind(null,402))},c=function(){return t.e(28).then(t.bind(null,403))},l=function(){return t.e(15).then(t.bind(null,404))},s=function(){return t.e(20).then(t.bind(null,405))},h=function(){return t.e(5).then(t.bind(null,406))},p=function(){return t.e(6).then(t.bind(null,407))},m=function(){return t.e(4).then(t.bind(null,408))},d=function(){return t.e(3).then(t.bind(null,409))},f=function(){return t.e(9).then(t.bind(null,410))},v=function(){return t.e(21).then(t.bind(null,411))},b=function(){return t.e(12).then(t.bind(null,412))},g=function(){return t.e(17).then(t.bind(null,413))},q=function(){return t.e(10).then(t.bind(null,414))},w=function(){return t.e(2).then(t.bind(null,415))},A=function(){return t.e(7).then(t.bind(null,416))},_=function(){return t.e(8).then(t.bind(null,417))},k=function(){return t.e(23).then(t.bind(null,418))},y=function(){return t.e(0).then(t.bind(null,419))},x=function(){return t.e(22).then(t.bind(null,420))},C=function(){return t.e(16).then(t.bind(null,421))},P=function(){return t.e(24).then(t.bind(null,422))},R=function(){return t.e(11).then(t.bind(null,423))},E=function(){return t.e(13).then(t.bind(null,424))},I=function(){return t.e(26).then(t.bind(null,425))},B=function(){return t.e(27).then(t.bind(null,426))},j=function(){return t.e(25).then(t.bind(null,427))},F=function(){return t.e(14).then(t.bind(null,428))},N=function(){return t.e(19).then(t.bind(null,429))},O=function(){return t.e(18).then(t.bind(null,430))};r.default.use(a.a);var S=new a.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/login",name:"教务系统",component:i,meta:{requiresAuth:!0,role:[]},children:[{path:"dashboard",name:"主页",component:c,meta:{requireAuth:!0,role:["0"]}},{path:"message",name:"系统消息",component:l,meta:{requireAuth:!0,role:["0"]}},{path:"profile",name:"个人资料",component:s,meta:{requireAuth:!0,role:["0"]}},{path:"course",redirect:"/course/view",name:"教学系统",component:{render:function(e){return e("router-view")}},meta:{requireAuth:!0,role:["2","5","6"]},children:[{path:"view",name:"所有课程",component:h,meta:{requireAuth:!0,role:["2","5","6"]}},{path:"new",redirect:"/course/new/create",name:"新课程",component:{render:function(e){return e("router-view")}},children:[{path:"create",name:"新课程申请",component:b,meta:{requireAuth:!0,role:["2","6"]}},{path:"request",name:"你的申请",component:v,meta:{requireAuth:!0,role:["2","6"]}}]},{path:"transcript",name:"个人成绩单",component:d,meta:{requireAuth:!0,role:["5"]}},{path:"choose",name:"新学期选课",component:p,meta:{requireAuth:!0,role:["5"]}},{path:"advisor/choose",name:"新学期导师选择",component:f,meta:{requireAuth:!0,role:["5"]}},{path:"grade",name:"成绩录入",component:m,meta:{requireAuth:!0,role:["6"]}}]},{path:"teach",redirect:"/teach/curriculum",name:"教务管理",component:{render:function(e){return e("router-view")}},meta:{requireAuth:!0},children:[{path:"curriculum",name:"课程管理",component:h,meta:{requireAuth:!0,role:["2"]}},{path:"request",name:"课程申请管理",component:v,meta:{requireAuth:!0,role:["2"]}},{path:"detail",name:"课程详情",component:b,meta:{requireAuth:!0,role:["2","5","6"]}},{path:"transcript",name:"成绩单管理",component:w,meta:{requireAuth:!0,role:["2"]}},{path:"credit",name:"学分管理",component:g,meta:{requireAuth:!0,role:["2"]}},{path:"pin",name:"识别码管理",component:q,meta:{requireAuth:!0,role:["2"]}},{path:"advise",redirect:"/teach/advise/manage",name:"辅导关系",component:{render:function(e){return e("router-view")}},children:[{path:"manage",name:"辅导关系管理",component:A,meta:{requireAuth:!0,role:["2"]}},{path:"advisor",name:"导师管理",component:_,meta:{requireAuth:!0,role:["2"]}}]}]},{path:"advise",redirect:"/advise/view",name:"导师系统",component:{render:function(e){return e("router-view")}},children:[{path:"view",name:"辅导关系查看",component:R,meta:{requireAuth:!0,role:["7"]}},{path:"office",name:"ONENOTE"}]},{path:"logistic",redirect:"/logistic/contract",name:"后勤行政管理",component:{render:function(e){return e("router-view")}},children:[{path:"contract",name:"合同管理",component:E,meta:{requireAuth:!0,role:["3"]}}]},{path:"system",redirect:"/system/user",name:"系统管理",component:{render:function(e){return e("router-view")}},children:[{path:"user",name:"用户管理",component:x,meta:{requireAuth:!0,role:["4"]}},{path:"user/detail",name:"新用户申请管理",component:C,meta:{requireAuth:!0,role:["0","4"]}},{path:"role",name:"角色与权限",component:k,meta:{requireAuth:!0,role:["4"]}},{path:"registration",name:"用户注册",component:P,meta:{requireAuth:!0,role:["4"]}},{path:"monitor",name:"系统监控",component:y,meta:{requireAuth:!0,role:["4"]}}]}]},{path:"/",redirect:"/404",name:"功能",component:{render:function(e){return e("router-view")}},children:[{path:"404",name:"Page404",component:I},{path:"403",name:"Page403",component:B},{path:"500",name:"Page500",component:j},{path:"login",name:"Login",component:F},{path:"register",name:"Register",component:N},{path:"resetPassword",name:"ResetPassword",component:O}]}]});S.beforeEach(function(e,n,t){if(e.meta.requireAuth)if(isNotEmpty(window.localStorage.getItem("access_token"))){for(var r=o()(window.localStorage.getItem("access_token")),a=0;a<e.meta.role.length;a++)for(var u=0;u<r.rol.length;u++)if("1"==r.rol[u]||e.meta.role[a]==r.rol[u])return void t();t({path:"/403",query:{redirect:e.fullPath}})}else t({path:"/",query:{redirect:e.fullPath}});else t()}),n.a=S}},[144]);
//# sourceMappingURL=app.5787d49bd6adad7ffc66.js.map